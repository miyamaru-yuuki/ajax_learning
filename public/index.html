<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=yes">
    <title>ゲーム管理</title>
    <style>
    </style>
    <link rel="stylesheet" type="text/css" href="/css/styles.css">

    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
    <!--<script src="js/jquery-3.3.1.min.js"></script>-->
    <script type="text/javascript">
        $(function(){
            // ここにソースを書きます。
            showgname();

            function showgname(){
                $("table tbody").empty();
                $.getJSON("/api/game/", function(json){
                    json.gameData.forEach(function(data){
                        $("#gname").append( '<tr><td>' +'<a href="' +data.gid +'" class="gname">'+data.gname+ '</a></td></tr>')
                    });
                });
            }

            $(document).on("click",".gname",function(){
                var gid = $(this).attr("href");
                $.getJSON("/api/game/" +gid, function(json){
                        $("#gameshousai").append( '<tr><td>' +json.gameData.gname+ '</td><td>' +json.gameData.playersnumbermin+ '</td><td>' +json.gameData.playersnumbermax+ '</td><td>' +json.gameData.playtime+ '</td><td>' +json.gameData.recommendedage+ '</td></tr>')
                });
                return false;
            });
        })
    </script>
</head>
<body>
<header>
    <h1>ゲーム管理</h1>
</header>
<nav>
</nav>
<main>

    <table>
        <thead><tr><th>ゲーム名</th></tr></thead>
        <tbody id="gname"></tbody>
    </table>

    <table>
        <thead><tr class="head1"><th>ゲーム名</th><th>プレイ可能な人数(最小)</th><th>プレイ可能な人数(最大)</th><th>標準プレイ時間</th><th>推奨年齢</th></tr></thead>
        <tbody id="gameshousai"></tbody>
    </table>

</main>
<footer>
</footer>
</div>
</body>
</html>
